webpackJsonp([1],{0:function(t,e){},"1uuo":function(t,e){},"7zck":function(t,e){},CJPC:function(t,e){},NHnr:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a("7+uW"),s={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("v-app",[e("v-content",[e("v-container",{attrs:{fluid:"","grid-list-md":"","fill-height":""}},[e("router-view")],1)],1)],1)],1)},staticRenderFns:[]};var r=a("VU/8")({name:"App"},s,!1,function(t){a("Oez1")},null,null).exports,i=a("/ocq"),o={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"hello"},[a("h1",[t._v(t._s(t.msg))]),t._v(" "),a("h2",[t._v("Essential Links")]),t._v(" "),t._m(0),t._v(" "),a("h2",[t._v("Ecosystem")]),t._v(" "),t._m(1)])},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ul",[a("li",[a("a",{attrs:{href:"https://vuejs.org",target:"_blank"}},[t._v("\n        Core Docs\n      ")])]),t._v(" "),a("li",[a("a",{attrs:{href:"https://forum.vuejs.org",target:"_blank"}},[t._v("\n        Forum\n      ")])]),t._v(" "),a("li",[a("a",{attrs:{href:"https://chat.vuejs.org",target:"_blank"}},[t._v("\n        Community Chat\n      ")])]),t._v(" "),a("li",[a("a",{attrs:{href:"https://twitter.com/vuejs",target:"_blank"}},[t._v("\n        Twitter\n      ")])]),t._v(" "),a("br"),t._v(" "),a("li",[a("a",{attrs:{href:"http://vuejs-templates.github.io/webpack/",target:"_blank"}},[t._v("\n        Docs for This Template\n      ")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("ul",[e("li",[e("a",{attrs:{href:"http://router.vuejs.org/",target:"_blank"}},[this._v("\n        vue-router\n      ")])]),this._v(" "),e("li",[e("a",{attrs:{href:"http://vuex.vuejs.org/",target:"_blank"}},[this._v("\n        vuex\n      ")])]),this._v(" "),e("li",[e("a",{attrs:{href:"http://vue-loader.vuejs.org/",target:"_blank"}},[this._v("\n        vue-loader\n      ")])]),this._v(" "),e("li",[e("a",{attrs:{href:"https://github.com/vuejs/awesome-vue",target:"_blank"}},[this._v("\n        awesome-vue\n      ")])])])}]};var l=a("VU/8")({name:"HelloWorld",data:function(){return{msg:"Welcome to Your Vue.js App"}}},o,!1,function(t){a("1uuo")},"data-v-d8ec41bc",null).exports,c={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-layout",{attrs:{"justify-end":"",column:""}},[a("v-flex",{ref:"boxChatMess2",staticStyle:{"overflow-y":"scroll",height:"100px"}},[a("v-list",{attrs:{"two-line":""}},[t._l(t.items,function(e){return[a("v-list-tile",{key:e.title,staticClass:"mes",attrs:{avatar:""}},[0===e.type?a("v-list-tile-avatar",[a("img",{attrs:{src:"https://ui-avatars.com/api/?name="+e.name+"&background=0D8ABC&color=fff&rounded=true"}})]):t._e(),t._v(" "),a("v-list-tile-content",{class:0===e.type?"text-xs-left":"text-xs-right"},[a("v-list-tile-title",{class:0===e.type?"text-xs-left":"text-xs-right",domProps:{innerHTML:t._s(0===e.type?e.name:"")}}),t._v(" "),a("v-list-tile-sub-title",[a("p",[e.cat&&0!=e.cat?t._e():a("span",{staticClass:"text--primary"},[t._v("\n                  "+t._s(e.text)+"\n                ")])]),t._v(" "),e.cat||1==e.cat?a("v-flex",[a("v-btn",{attrs:{href:e.text,target:"_blank"}},[a("v-icon",[t._v("link")]),t._v(" Файл\n                ")],1)],1):t._e()],1)],1),t._v(" "),1===e.type?a("v-list-tile-avatar",[a("img",{attrs:{src:"https://ui-avatars.com/api/?name="+e.name+"&background=0D8ABC&color=fff&rounded=true"}})]):t._e()],1)]})],2)],1)],1)},staticRenderFns:[]};var u=a("VU/8")({mounted:function(){var t=this;this.$root.$on("newMessage",function(e){t.items.push(e)}),this.$root.$on("setMm",function(e){e-=60,t.$refs.boxChatMess2.style.height=e+"px"})},updated:function(){var t=this.$refs.boxChatMess2;t.scrollTop=t.scrollHeight},data:function(){return{items:[{name:"Sergey Prizhimov",text:"Привет",type:1},{name:"Roma Kaplin",text:"Дарова",type:0},{name:"Nikita poroh",text:"Как дела ?",type:0}]}}},c,!1,function(t){a("jJyg")},"data-v-62f419a2",null).exports,v=a("Xxa5"),f=a.n(v),m=a("exGp"),h=a.n(m),p=a("mtWM"),d=a.n(p),_=function(t){return d.a.create({baseURL:"http://192.168.0.104:3000/"}).post("/upload",t,{headers:{"Content-Type":"multipart/form-data"}})},g={data:function(){return{title:"Image Upload",dialog:!1,imageUrl:"",imageFile:"",file:null}},methods:{pickFile:function(){this.$refs.image.click()},upload:function(t){var e=this;return h()(f.a.mark(function a(){var n;return f.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,_(t);case 3:n=a.sent,console.log("SUCCESS!!!",n.data.url),e.$root.$emit("sendMessage",{message:n.data.url,cat:1}),a.next=11;break;case 8:a.prev=8,a.t0=a.catch(0),console.error(a.t0);case 11:case"end":return a.stop()}},a,e,[[0,8]])}))()},onFilePicked:function(t){var e=this,a=t.target.files;if(void 0!==a[0]){if(this.file=a[0],a[0].name.lastIndexOf(".")<=0)return;var n=new FileReader;n.readAsDataURL(a[0]),n.addEventListener("load",function(){var t=new FormData;t.append("file",e.file),e.upload(t)})}else this.imageFile="",this.imageUrl=""}}},x={render:function(){var t=this.$createElement,e=this._self._c||t;return e("span",[e("v-btn",{attrs:{icon:""},on:{click:this.pickFile}},[e("v-icon",[this._v("attach_file")])],1),this._v(" "),e("input",{ref:"image",staticStyle:{display:"none"},attrs:{type:"file",accept:"image/*"},on:{change:this.onFilePicked}})],1)},staticRenderFns:[]};var k={components:{MessagesPanel:u,Uploder:a("VU/8")(g,x,!1,function(t){a("CJPC")},"data-v-15e3eae1",null).exports},mounted:function(){var t=this;this.$root.$emit("setMm",this.$refs.boxChatMess.clientHeight),this.$root.$on("sendMessage",function(e){t.$socket.emit("newMessage",{message:e.message,name:t.curentUser.name,cat:e.cat}),t.$root.$emit("newMessage",{text:e.message,name:t.curentUser.name,type:1,cat:e.cat})}),this.$socket.on("newMessage",function(e){t.$root.$emit("newMessage",{text:e.message,name:e.name,type:0,cat:0|e.cat})}),this.$socket.on("upUsers",function(e){t.users=e})},data:function(){return{curentUser:{name:Math.random()},users:{},newMessage:null}},methods:{sendMassage:function(){this.newMessage&&(this.$root.$emit("newMessage",{text:this.newMessage,name:this.curentUser.name,type:1}),this.$socket.emit("newMessage",{message:this.newMessage,name:this.curentUser.name}),this.newMessage=null)},setName:function(){this.$socket.emit("setName",this.curentUser.name)}}},y={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-layout",{attrs:{column:"","fill-height":""}},[a("v-layout",{attrs:{"align-start":"","fill-height":""}},[a("v-flex",{ref:"boxChatMess",attrs:{xs10:"","fill-height":""}},[a("v-toolbar",{staticClass:"cyan",attrs:{flat:"",dense:"",dark:""}},[a("v-toolbar-title",[t._v("Чат ВСГУТУ")])],1),t._v(" "),a("messages-panel")],1),t._v(" "),a("v-flex",{staticClass:"elevation-10",attrs:{xs2:"","ml-2":""}},[a("v-toolbar",{staticClass:"cyan",attrs:{flat:"",dense:"",dark:""}},[a("v-toolbar-title",[t._v("Онлайн")])],1),t._v(" "),a("v-flex",[a("v-text-field",{on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.setName(e)}},model:{value:t.curentUser.name,callback:function(e){t.$set(t.curentUser,"name",e)},expression:"curentUser.name"}}),t._v(" "),a("v-list",{attrs:{"two-line":""}},[t._l(t.users,function(e){return[a("v-list-tile",{key:e.title,attrs:{avatar:""}},[a("v-list-tile-content",[a("v-list-tile-title",[t._v(t._s(e.name))])],1),t._v(" "),a("v-list-tile-avatar",[a("img",{attrs:{src:"https://ui-avatars.com/api/?name="+e.name+"&background=0D8ABC&color=fff&rounded=true"}})])],1)]})],2)],1)],1)],1),t._v(" "),a("v-layout",{attrs:{rows:""}},[a("v-flex",[a("v-text-field",{attrs:{label:"Сообщение...","single-line":"",outline:""},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.sendMassage(e)}},model:{value:t.newMessage,callback:function(e){t.newMessage=e},expression:"newMessage"}})],1),t._v(" "),a("uploder"),t._v(" "),a("v-btn",{attrs:{color:"primary"},on:{click:t.sendMassage}},[t._v("Отправить")])],1)],1)},staticRenderFns:[]};var b=a("VU/8")(k,y,!1,function(t){a("t1Ea")},"data-v-662e9f0e",null).exports;n.default.use(i.a);var $=new i.a({routes:[{path:"/",name:"HelloWorld",component:l},{path:"/chat",name:"ChatPage",component:b}]}),w=(a("7zck"),a("3EgV")),M=a.n(w),C=a("CDQC"),U=a("DmT9"),E=a.n(U);n.default.use(C.a,E()("192.168.0.104:3000")),n.default.config.productionTip=!1,n.default.use(M.a),new n.default({el:"#app",router:$,components:{App:r},template:"<App/>"})},Oez1:function(t,e){},jJyg:function(t,e){},t1Ea:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.ed83e80c5022ae7f77cd.js.map